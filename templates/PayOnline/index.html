{% extends "core/hf.html"  %}
{% load static %}
{% block body %}

<style>
  .a{
    height: 400;
    width: 200;
  }
</style>

{% if not payment %}
<div id="app">
<div class="col-6 pt-5  mx-auto ">
<div class="text-center">
<!-- <img src="{% static '/images/pay.jpg' %}"
style="height:200px" class="img-fluid img-reponsive text-center"> -->
<br>
<h4>Go to Online Payment</h4>
</div>

    <form action="{% url 'donate:home' %}" class="m " method="post" target="_blank" >
        {% csrf_token %}
        <div class="form-group pt-4 ">
            <label for="exampleInputEmail1">Your name</label>
            <input  v-model="name" name="name" type="text" class="form-control"
             id="exampleInputEmail1" aria-describedby="emailHelp">
           
          </div>
        

        <div class="form-group">
          <label for="exampleInputPassword1">Amount</label>
          <input type="number"  class="form-control" name="amount"
           id="exampleInputPassword1" value="{{ order_item.get_cost }}">
         
        </div>

        <button class="btn btn-success btn-block" style="background-color: #f7444e;" type="submit">Submit</button>
        </form>
{% endif %}

{% if payment %}
        <div class="container mx-auto text-center mt-4" v-if="name && amount">

            <form action="{% url 'donate:success' %}" method="POST">
                <script
                    src="https://checkout.razorpay.com/v1/checkout.js"
                    data-key="rzp_test_ifqXZb84qSL1CP" // Enter the Test API Key ID generated from Dashboard → Settings → API Keys
                    data-amount="{{payment.amount}}"
                    data-currency="INR"//You can accept international payments by changing the currency code. Contact our Support Team to enable International for your account
                    data-order_id="{{ payment.id }}"//Replace with the order_id generated by you in the backend.
                    data-buttontext="Pay with Razorpay"
                    data-name="DARK N FREED"
                    data-description="Thanks for Order."
                    data-image="{% static '/images/l2.png' %}"
                    data-prefill.name="Manik Sharma"
                    data-prefill.email="5@gmil.com"
                    data-prefill.contact="333333333"
                    data-theme.color="#F37254"
                ></script>
                <input type="hidden" custom="Hidden Element" name="hidden">
                </form>
            </div>
{% endif %}     
        </div>
        


</div>







   


    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <script>
        var app = new Vue({
          delimiters: ['[[', ']]'],
          el: '#app',
          data: {
              message: 'Hello Vue!',
              name : null,
              amount : null
              
          },
          methods: {
              greet: function(name) {
                  console.log('Hello from ' + name + '!')
              },
              get : function(){
                console.log(this.name , this.amount)
              }
          },
          watch : {
            amount(){
                console.log(this.amount)
            }
          }
        });
      </script>


<style>
body{
    background :#ffff;
}

</style>
{% endblock %}